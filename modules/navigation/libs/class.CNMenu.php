<?php/**************************************************************\/	KS ENGINE/	(c) 2008 ALL RIGHTS RESERVED/**************************************************************\/**************************************************************\/	Author: Kolos Andrew (DoTJ)/	http://kolos-studio.ru//	http://dotj.ru//**************************************************************\/**************************************************************\/	Назначение: поиск и подключение нужного модуля/	Версия:	0.2/	Последняя модификация: 28.05.2008/**************************************************************\*/if( !defined('KS_ENGINE') ) {die("Hacking attempt!");}class CNMenu {	/* меню */	public $menu;		function create_menu_arr($menu_ident, &$module_parameters) {		/* построение массива меню */		global $ks_db;		$output='';		$res_sel_menu = $ks_db->query("			SELECT	*			FROM	`".PREFIX."navigation_menu_types`			WHERE	`text_ident` = '".$ks_db->safesql($menu_ident)."'");  		if($ks_db->num_rows($res_sel_menu)!=1)  		{  			throw new CError('NAVIGATION_MENU_TYPE_NOT_FOUND');   		}  		  		$r_sel_menu = $ks_db->get_array($res_sel_menu);		if(file_exists(MODULES_DIR.'/navigation/menu_scripts/'.$r_sel_menu['script_name'].'.php') ) 		{	  		include(MODULES_DIR.'/navigation/menu_scripts/'.$r_sel_menu['script_name'].'.php');	 	}	 	else 	 	{	 		throw new CError('NAVIGATION_MENU_SCRIPT_REQUIRED');	 	}	 	return $output;	}/*	function add_item($uri, $name, &$params_arr) {*/  		/*  		Добавление нового элемента к массиву навигационной цепочки  		ВХОДЯЩИЕ ДАННЫЕ:  			$uri -- добавляемый URI  			$name -- добавляемое имя  			$params_arr -- дополнительные параметры элемента  		*//*        $this->menu[] = array_merge(array('uri' => $uri, 'title' => $name), $params_arr);	}*/}?>